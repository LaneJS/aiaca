<div class="page-shell">
  <header class="hero">
    <div class="hero__intro">
      <p class="eyebrow low-contrast">Intentionally broken for accessibility testing</p>
      <h1>Accessibility Anti-Pattern Demo</h1>
      <p class="bad-tagline low-contrast">
        This page intentionally violates ADA/WCAG guidance so you can watch our embed script clean it up in real time.
      </p>
      <div class="hero__cta">
        <a class="ghost-link" href="#">Click here to get lost</a>
        <button class="icon-button">!</button>
      </div>
    </div>
    <div class="panel embed-panel">
      <div class="panel__title">Auto-fix embed preview</div>
      <div class="panel__status" [class.enabled]="autofixEnabled">
        <span class="dot"></span>
        <span>{{ autofixEnabled ? 'Auto-fix is running' : 'Auto-fix is paused' }}</span>
      </div>
      <button class="toggle-button" type="button" (click)="toggleAutoFix()">
        {{ autofixEnabled ? 'View the raw, broken experience' : 'Re-enable automatic fixes' }}
      </button>
      <p class="muted meta-text">
        Demo account: {{ demoAccount.name }} ({{ demoAccount.domain }}) Â· Scan score {{ demoAccount.score }}
      </p>
      <pre class="embed-snippet" aria-label="Embed code snippet">{{ embedSnippet }}</pre>
    </div>
  </header>

  <main id="main-content" class="content">
    <section class="broken-preview">
      <div class="section-heading">
        <h2 class="out-of-order">Broken experience preview</h2>
        <p class="muted low-contrast">Missing skip links. No focus outlines. Low contrast everywhere.</p>
      </div>
      <div class="bad-grid">
        <article class="bad-card">
          <img
            src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=800&q=80"
            data-ai-alt="Pastry case with macarons and fruit tarts"
          />
          <h3>Hero visual with no alt</h3>
          <p class="muted low-contrast">Screen readers have no idea what this image contains.</p>
          <a class="ghost-link" href="#">Learn more</a>
        </article>
        <article class="bad-card">
          <h4>Form without labels</h4>
          <p class="muted low-contrast">Placeholder-only inputs confuse assistive tech.</p>
          <form class="bad-form">
            <input type="text" placeholder="Full name" data-ai-label="Full name" />
            <input type="email" placeholder="Email" data-ai-label="Work email" />
            <button type="button" class="ghost-button">Submit</button>
          </form>
        </article>
        <article class="bad-card">
          <h4>Contrast failure block</h4>
          <p class="muted low-contrast">This copy is almost invisible. The CTA is just as bad.</p>
          <button class="ghost-button">Primary action</button>
        </article>
      </div>
    </section>

    <section class="scan-section">
      <div class="section-heading">
        <h2>Demo scan + AI fix queue</h2>
        <p class="muted">Preloaded with a noisy site so you can watch fixes toggle on/off.</p>
      </div>
      <div class="scan-meta muted">
        <span>Site ID: {{ demoAccount.siteId }}</span>
        <span>Embed key: {{ demoAccount.embedKey }}</span>
        <span>Last scan: {{ demoAccount.lastScan }}</span>
      </div>
      <div class="scan-grid">
        <article class="scan-card" *ngFor="let finding of scanFindings">
          <div class="pill pill-{{ finding.severity }}">{{ finding.severity }}</div>
          <h3>{{ finding.title }}</h3>
          <p class="muted">{{ finding.description }}</p>
          <div class="auto-fix">{{ finding.autoFix }}</div>
        </article>
      </div>
      <div class="suggestions">
        <div class="suggestion" *ngFor="let suggestion of aiSuggestions">
          <div class="suggestion__label">{{ suggestion.label }}</div>
          <div class="muted">{{ suggestion.detail }}</div>
          <div class="suggestion__impact">{{ suggestion.impact }}</div>
        </div>
      </div>
    </section>

    <section class="script-benefits">
      <div class="section-heading">
        <h2>What the embed flips on</h2>
        <p class="muted">Turn off the toggle above to see these go missing.</p>
      </div>
      <ul class="benefits">
        <li>Skip link injected to #main-content</li>
        <li>ARIA labels applied to unlabeled form fields</li>
        <li>Visible focus outlines restored for links and buttons</li>
        <li>High-contrast palette applied to muted text and ghost buttons</li>
        <li>AI-suggested alt text added to every unannotated image</li>
      </ul>
    </section>
  </main>
</div>
