<div class="page-shell" [class.autofix-on]="autofixEnabled" [class.fixing]="isFixing">
  <header class="hero-intro">
    <div class="eyebrow">A11y Assistant Demo</div>
    <h1>One script. Instant accessibility.</h1>
    <p>Watch 6 issues vanish in under a second.</p>
  </header>

  <!-- SECTION 1: THE STAGE (HERO) -->
  <section class="hero-stage">
    <div class="demo-canvas">
      <div class="browser-chrome">
        <span class="dot red"></span>
        <span class="dot yellow"></span>
        <span class="dot green"></span>
        <div class="url-bar">
          <span class="lock-icon">üîí</span>
          brokenbakery.demo
          <span class="refresh-icon">‚ü≥</span>
        </div>
      </div>

      <div class="canvas-hint">Hover elements for status</div>

      <!-- The Mini Broken Website -->
      <div
        class="mini-site"
        [class.fixed]="autofixEnabled"
        [class.fixing]="isFixing"
        id="demo-site-container"
      >
        <div class="site-noise" aria-hidden="true"></div>
        <div class="confetti" aria-hidden="true">
          <span class="confetti-piece"></span>
          <span class="confetti-piece"></span>
          <span class="confetti-piece"></span>
          <span class="confetti-piece"></span>
          <span class="confetti-piece"></span>
          <span class="confetti-piece"></span>
          <span class="confetti-piece"></span>
          <span class="confetti-piece"></span>
          <span class="confetti-piece"></span>
          <span class="confetti-piece"></span>
          <span class="confetti-piece"></span>
          <span class="confetti-piece"></span>
        </div>

        <!-- Overlay Badges -->
        <div class="warning-badge alt-warning" *ngIf="!autofixEnabled">‚ö†Ô∏è No alt text</div>
        <div class="warning-badge label-warning" *ngIf="!autofixEnabled">‚ö†Ô∏è Missing label</div>
        <div class="warning-badge contrast-warning" *ngIf="!autofixEnabled">‚ö†Ô∏è Low contrast</div>
        <div class="fix-check alt-check" *ngIf="autofixEnabled">‚úì Alt text added</div>
        <div class="fix-check label-check" *ngIf="autofixEnabled">‚úì Labels injected</div>
        <div class="fix-check contrast-check" *ngIf="autofixEnabled">‚úì Contrast fixed</div>

        <header
          class="mini-header a11y-target"
          data-status-broken="Navigation lacks focus styles"
          data-status-fixed="Focus rings restored"
        >
          <div class="logo">ü•ê The Broken Bakery</div>
          <nav>
            <a href="#" class="nav-link ghost-link">Menu</a>
            <a href="#" class="nav-link ghost-link">About</a>
            <a href="#" class="nav-link ghost-link">Contact</a>
          </nav>
        </header>

        <main id="main-content" class="mini-main">
          <section class="mini-hero">
            <figure
              class="hero-figure a11y-target"
              data-status-broken="Image missing alt text"
              data-status-fixed="Alt text added"
            >
              <img
                src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=600&q=80"
                class="hero-img"
                data-ai-alt="Fresh croissants and pastries on display in a bakery case"
              />
              <span class="img-check" aria-hidden="true" *ngIf="autofixEnabled">‚úì</span>
            </figure>

            <div
              class="hero-content a11y-target"
              data-status-broken="2.1:1 contrast fails"
              data-status-fixed="7.2:1 contrast passes"
            >
              <span class="hero-kicker">Fresh daily</span>
              <h3>Fresh pastries, terrible accessibility</h3>
              <p class="low-contrast">
                Our pastries are delicious, but our website is a nightmare for assistive technology.
              </p>
              <button class="order-btn ghost-button" type="button">Order Now</button>
            </div>
          </section>

          <section
            class="mini-form a11y-target"
            data-status-broken="Form fields unlabeled"
            data-status-fixed="Labels injected"
          >
            <div class="form-group" data-field-label="Email address">
              <input
                type="email"
                placeholder="Email address"
                class="input-field"
                data-ai-label="Email address for newsletter"
              />
              <span class="field-warning" aria-hidden="true" *ngIf="!autofixEnabled">‚ö†Ô∏è</span>
            </div>
            <div class="form-group" data-field-label="Full name">
              <input
                type="text"
                placeholder="Your name"
                class="input-field"
                data-ai-label="Your full name"
              />
              <span class="field-warning" aria-hidden="true" *ngIf="!autofixEnabled">‚ö†Ô∏è</span>
            </div>
            <button class="subscribe-btn ghost-button" type="button">Subscribe</button>
          </section>
        </main>

        <footer class="mini-footer">
          <small>Terms ‚Ä¢ Privacy ‚Ä¢ Contact</small>
        </footer>
      </div>
    </div>

    <!-- Control Panel -->
    <div class="control-panel">
      <div class="panel-header">
        <span class="panel-eyebrow">Live demo</span>
        <h2>Experience the transformation</h2>
        <p>Toggle to see how one line of code fixes accessibility issues instantly.</p>
      </div>

      <div class="toggle-stack">
        <button
          class="toggle-switch"
          type="button"
          role="switch"
          [attr.aria-checked]="autofixEnabled"
          [attr.aria-label]="autofixEnabled ? 'Disable accessibility fixes' : 'Enable accessibility fixes'"
          (click)="toggleAutoFix()"
          (keydown)="handleToggleKey($event)"
        >
          <span class="toggle-track" [class.active]="autofixEnabled">
            <span class="toggle-knob"></span>
            <span class="toggle-label left">Broken</span>
            <span class="toggle-label right">Fixed</span>
          </span>
        </button>
        <div class="status-indicator" [class.active]="autofixEnabled">
          <span class="status-dot"></span>
          {{ autofixEnabled ? 'Accessibility fixes are live' : 'Experience the inaccessible version' }}
        </div>
        <div class="toggle-hint">Toggle to see the transformation</div>
      </div>

      <div class="fix-summary" [class.active]="autofixEnabled">
        <div class="summary-value" [class.pulse]="counterPulse">{{ fixCount || fixTotal }}</div>
        <div class="summary-label">issues fixed instantly</div>
        <div class="summary-meta" *ngIf="autofixEnabled && fixSummary">{{ fixSummary }}</div>
      </div>

      <div class="live-log" [class.active]="autofixEnabled">
        <div class="log-header">
          <span>üîß Fixing accessibility issues</span>
          <span class="log-progress">
            <span class="log-progress-bar" [style.width.%]="fixProgress"></span>
          </span>
        </div>
        <div class="log-items">
          <div class="log-placeholder" *ngIf="!autofixEnabled || !fixLogs.length">Waiting for toggle...</div>
          <div class="log-item" *ngFor="let log of fixLogs">
            <span class="check">‚úì</span> {{ log }}
          </div>
        </div>
      </div>

      <div class="panel-actions">
        <button
          class="ghost-action"
          type="button"
          (click)="startKeyboardDemo()"
          [disabled]="keyboardDemoActive"
        >
          Try keyboard navigation
        </button>
        <div class="action-note">Shows focus movement on the demo site</div>
      </div>
    </div>
  </section>

  <!-- SECTION 2: EVIDENCE GRID -->
  <section class="evidence-grid">
    <div class="grid-header">
      <h2>See the difference</h2>
      <p>Real examples of what gets fixed automatically.</p>
    </div>

    <div class="comparison-strips">
      <article class="comparison-strip">
        <div class="strip-title">Image Accessibility</div>
        <div class="strip-body">
          <div class="strip-panel before">
            <div class="badge">BEFORE</div>
            <div class="strip-mock">
              <div class="img-placeholder red-border"></div>
              <div class="screen-reader-text">"Image" (silence)</div>
            </div>
            <div class="strip-note">‚ö†Ô∏è No alt text</div>
          </div>
          <div class="strip-panel after">
            <div class="badge">AFTER</div>
            <div class="strip-mock">
              <div class="img-placeholder green-border"></div>
              <div class="screen-reader-text">"Fresh croissants on display"</div>
            </div>
            <div class="strip-note">‚úì Descriptive alt text</div>
          </div>
        </div>
        <div class="strip-footer">
          <strong>AI-Powered Alt Text</strong>
          <p>Generates descriptive text for images missing alt attributes.</p>
        </div>
      </article>

      <article class="comparison-strip">
        <div class="strip-title">Form Labels</div>
        <div class="strip-body">
          <div class="strip-panel before">
            <div class="badge">BEFORE</div>
            <div class="strip-mock">
              <div class="input-mock red-border">Placeholder only</div>
              <div class="screen-reader-text">"Edit text" (unlabeled)</div>
            </div>
            <div class="strip-note">‚ö†Ô∏è No label</div>
          </div>
          <div class="strip-panel after">
            <div class="badge">AFTER</div>
            <div class="strip-mock">
              <div class="input-mock green-border">Email address</div>
              <div class="screen-reader-text">"Email address: Edit text"</div>
            </div>
            <div class="strip-note">‚úì aria-label added</div>
          </div>
        </div>
        <div class="strip-footer">
          <strong>Automatic Labeling</strong>
          <p>Injects aria-labels based on context and placeholders.</p>
        </div>
      </article>

      <article class="comparison-strip">
        <div class="strip-title">Color Contrast</div>
        <div class="strip-body">
          <div class="strip-panel before">
            <div class="badge">BEFORE</div>
            <div class="strip-mock">
              <div class="text-mock low-contrast">Hard to read text</div>
              <div class="contrast-badge fail">2.1:1 ratio (Fail)</div>
            </div>
            <div class="strip-note">‚ö†Ô∏è Fails WCAG AA</div>
          </div>
          <div class="strip-panel after">
            <div class="badge">AFTER</div>
            <div class="strip-mock">
              <div class="text-mock high-contrast">Clear, legible text</div>
              <div class="contrast-badge pass">7.2:1 ratio (AAA)</div>
            </div>
            <div class="strip-note">‚úì Passes WCAG AAA</div>
          </div>
        </div>
        <div class="strip-footer">
          <strong>Smart Contrast</strong>
          <p>Dynamically adjusts colors to meet WCAG standards.</p>
        </div>
      </article>
    </div>
  </section>

  <!-- SECTION 3: THE CODE -->
  <section class="code-section">
    <div class="section-content">
      <h2>One Line. Instant Results.</h2>
      <p>Add this snippet to your <code>&lt;head&gt;</code> tag and fix accessibility issues immediately.</p>

      <div class="code-block">
        <pre><code>&lt;script src="https://cdn.aaca.ai/fix.js" data-key="your-key"&gt;&lt;/script&gt;</code></pre>
        <button class="copy-btn" type="button" (click)="copyCode()">{{ copyLabel }}</button>
      </div>

      <div class="typing-simulation">
        <div class="step">‚úì Scanning page... 847 elements checked</div>
        <div class="step">‚úì Found 12 accessibility issues</div>
        <div class="step">‚úì Applied 12 automatic fixes</div>
        <div class="step highlight">‚úì Page is now WCAG 2.1 AA compliant</div>
      </div>

      <a href="#" class="cta-button primary">Get Your Fix Script</a>
    </div>
  </section>

  <!-- SECTION 4: CAPABILITIES -->
  <section class="capabilities-section">
    <h2>What Gets Fixed</h2>
    <div class="capabilities-grid">
      <div class="capability-item">
        <div class="icon">üñºÔ∏è</div>
        <h3>Missing Alt Text</h3>
        <p>AI-generated descriptions for images.</p>
      </div>
      <div class="capability-item">
        <div class="icon">üìù</div>
        <h3>Unlabeled Forms</h3>
        <p>Automatic aria-label injection.</p>
      </div>
      <div class="capability-item">
        <div class="icon">üé®</div>
        <h3>Low Contrast</h3>
        <p>Dynamic color enhancement for readability.</p>
      </div>
      <div class="capability-item">
        <div class="icon">‚å®Ô∏è</div>
        <h3>Missing Skip Links</h3>
        <p>Keyboard navigation shortcuts added.</p>
      </div>
      <div class="capability-item">
        <div class="icon">üéØ</div>
        <h3>Focus Indicators</h3>
        <p>Visible outlines on interactive elements.</p>
      </div>
      <div class="capability-item">
        <div class="icon">üèóÔ∏è</div>
        <h3>Heading Structure</h3>
        <p>ARIA landmark fixes for better navigation.</p>
      </div>
    </div>
  </section>

  <!-- SECTION 5: FREE SCAN BRIDGE -->
  <section class="scan-bridge" aria-labelledby="scan-bridge-heading">
    <div class="scan-bridge__inner">
      <div class="scan-bridge__copy">
        <span class="scan-bridge__eyebrow">Official free scan</span>
        <h2 id="scan-bridge-heading">Run a real accessibility scan in under a minute</h2>
        <p>
          This demo shows the auto-fix script in action. For real results, head to our marketing
          site and get a score, top issues, and AI-backed fixes.
        </p>
        <div class="scan-bridge__cta">
          <a class="cta-button primary" href="https://a11yassistant.com/scan">Start the free scan</a>
          <span class="scan-bridge__note">Takes you to A11yAssistant.com/scan</span>
        </div>
        <div class="scan-bridge__badges">
          <span>‚úÖ No signup required</span>
          <span>‚ö° Results in ~60 seconds</span>
          <span>ü§ñ AI fix preview</span>
        </div>
      </div>

      <div class="scan-bridge__panel">
        <div class="scan-bridge__card">
          <div class="scan-bridge__card-top">
            <span class="scan-bridge__label">What the free scan includes</span>
            <span class="scan-bridge__pill">Public pages only</span>
          </div>
          <ol class="scan-bridge__steps">
            <li class="scan-bridge__step">
              <span class="scan-bridge__step-number">1</span>
              <div>
                <strong>Enter your URL</strong>
                <p>Scan any public homepage or landing page.</p>
              </div>
            </li>
            <li class="scan-bridge__step">
              <span class="scan-bridge__step-number">2</span>
              <div>
                <strong>Get your score</strong>
                <p>Instant accessibility score plus your top issues.</p>
              </div>
            </li>
            <li class="scan-bridge__step">
              <span class="scan-bridge__step-number">3</span>
              <div>
                <strong>Preview AI fixes</strong>
                <p>See recommended alt text, labels, and contrast tweaks.</p>
              </div>
            </li>
          </ol>
          <div class="scan-bridge__footnote">Privacy-first: no form data stored.</div>
        </div>
      </div>
    </div>
  </section>
</div>
